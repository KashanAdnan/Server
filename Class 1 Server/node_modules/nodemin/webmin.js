#!/usr/bin/env node

const args = process.argv;
const file = args[2] || false;

if (!file) {
    console.log('No file arguement given.')
    process.exit(1)
}

const fs = require('fs');
if (!fs.existsSync(args[2])) {
    console.log('File does not exist.')
    process.exit(1)
}

const minify = require("babel-minify");
const content = fs.readFileSync(file, 'utf8');

try {
    var t = minify(content, {});
} catch (e) {
    console.log(e)
    process.exit(1)
}

console.log(t.code)